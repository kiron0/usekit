---
title: useMutationObserver
description: Observe mutations on a DOM element with the useMutationObserver hook.
---

## Installation

<Tabs defaultValue="cli">

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>

<TabsContent value="cli">

```bash
npx shadcn@latest add https://usekit.kiron.dev/r/use-mutation-observer
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="use-mutation-observer" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</Tabs>

## Usage

```tsx {5, 22}
"use client"

import * as React from "react"

import { useMutationObserver } from "@/hooks/use-mutation-observer"

export function Component() {
  const ref = React.useRef<HTMLDivElement>(null)

  const callback: MutationCallback = (mutationsList) => {
    for (const mutation of mutationsList) {
      if (mutation.type === "attributes") {
        console.log("Attribute changed:", mutation.attributeName)
      } else if (mutation.type === "childList") {
        console.log("Child nodes changed")
      } else if (mutation.type === "characterData") {
        console.log("Text content changed")
      }
    }
  }

  useMutationObserver(ref, callback)

  return (
    <div ref={ref}>
      <p>Observe changes in this element</p>
    </div>
  )
}
```

## API Reference

### Parameters

| Name       | Type                                          | Description                                                                 | Default Value                                                               | Optional |
| ---------- | --------------------------------------------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------- | -------- |
| `ref`      | `React.MutableRefObject<HTMLElement \| null>` | A ref to the DOM element to observe.                                        | -                                                                           | No       |
| `callback` | `MutationCallback`                            | A callback function that will be called when mutations are observed.        | -                                                                           | No       |
| `options`  | `MutationObserverInit`                        | Options for the `MutationObserver` (e.g., `attributes`, `childList`, etc.). | `{ attributes: true, characterData: true, childList: true, subtree: true }` | Yes      |
